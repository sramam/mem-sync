{"version":3,"file":"content_script.js","mappings":";;AAAA;AACA;AACA;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://mem-sync/webpack/bootstrap","webpack://mem-sync/webpack/runtime/make namespace object","webpack://mem-sync/./src/content_script/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","let loaded = false;\naddEventListener(\"load\", () => (loaded = true));\nfunction getDomDetails() {\n    // in addition to title and url, we extract the description & og:image when provided. \n    const ogImageElem = document.querySelectorAll('meta[property=\"og:image\"]')?.[0];\n    const descriptionElem = document.querySelectorAll('meta[name=\"description\"]')?.[0];\n    const ogImage = ogImageElem ? ogImageElem.content : undefined;\n    const description = descriptionElem ? descriptionElem.content : undefined;\n    return {\n        url: location.href,\n        title: document.title,\n        description,\n        ogImage,\n        innerHTML: document.body.innerHTML ?? \"\",\n        innerText: document.body.innerText,\n    };\n}\nfunction sendMessage(action, data) {\n    chrome.runtime.sendMessage({ action, data }, (response) => {\n        if (response.status === 'ok') {\n            console.log(\"Page Details sent to background.\");\n        }\n        else {\n            console.error(\"Failed to send page content to background.\");\n        }\n    });\n}\nlet time = 0;\nconst delta = 100;\nfunction main() {\n    // wait for the page to load before collecing DomInfo\n    if (!loaded) {\n        time += delta;\n        setTimeout(main, delta);\n    }\n    else {\n        console.log(`waited for ${time}ms before being ready`);\n        sendMessage(\"sendDomDetails\", getDomDetails());\n    }\n}\nmain();\nexport {};\n"],"names":[],"sourceRoot":""}